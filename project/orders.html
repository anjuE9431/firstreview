{% extends "base.html" %}
{% block content %}
<div class="orders-page container my-5">
  <h2 class="text-center mb-4 orders-title">üì¶ My Orders</h2>

  {% if not orders %}
  <div class="empty-orders text-center py-5">
    <img src="https://cdn-icons-png.flaticon.com/512/4076/4076549.png" width="140" alt="No Orders">
    <h4 class="mt-3">No orders yet!</h4>
    <p>Start shopping and bring the freshness of the sea to your plate üê†</p>
    <a href="{{ url_for('browse_fish') }}" class="btn btn-ocean mt-3">Shop Now</a>
  </div>
  {% else %}
  <div class="card shadow-lg border-0 rounded-4 glass-card">
    <div class="table-responsive">
      <table class="table table-hover align-middle mb-0">
        <thead class="table-header">
          <tr>
            <th>Order ID</th>
            <th>Harbour</th>
            <th>Status</th>
            <th>Delivery</th>
            <th>Total</th>
            <th>Date</th>
          </tr>
        </thead>
        <tbody>
          {% for o in orders %}
          <tr>
            <td class="fw-bold text-primary">#{{ o.id }}</td>
            <td>{{ o.harbour_name }}</td>
            <td>
              {% if o.status == "Pending" %}
              <span class="badge bg-warning text-dark shadow-sm">Pending</span>
              {% elif o.status == "Approved" %}
              <span class="badge bg-info text-dark shadow-sm">Approved</span>
              {% elif o.status == "Completed" %}
              <span class="badge bg-success shadow-sm">Completed</span>
              {% else %}
              <span class="badge bg-secondary shadow-sm">{{ o.status }}</span>
              {% endif %}
            </td>
            <td>
              {% if o.delivery_status == "Delivered" %}
              <span class="badge bg-success shadow-sm">Delivered</span>
              {% elif o.delivery_status == "On the Way" %}
              <span class="badge bg-primary shadow-sm">On the Way</span>
              {% elif o.delivery_status == "Processing" %}
              <span class="badge bg-info text-dark shadow-sm">Processing</span>
              {% else %}
              <span class="badge bg-secondary shadow-sm">-</span>
              {% endif %}
            </td>
            <td class="fw-bold text-coral">{{ o.total_amount|inr }}</td>
            <td>{{ o.created_at.strftime("%d %b %Y") if o.created_at else '-' }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
  {% endif %}
</div>

<style>
/* === Background === */
body {
  background: linear-gradient(135deg, #013a63, #03506f, #0077b6);
  font-family: "Poppins", sans-serif;
  color: #012a4a;
}

/* === Title === */
.orders-title {
  color: #caf0f8;
  font-weight: 800;
  text-shadow: 0 2px 10px rgba(255,255,255,0.3);
  letter-spacing: 1px;
}

/* === Empty Orders === */
.empty-orders img {
  opacity: 0.9;
  filter: drop-shadow(0 5px 8px rgba(0,0,0,0.3));
}
.empty-orders h4 {
  color: #ffb703;
  font-weight: 600;
}
.empty-orders p {
  color: #ade8f4;
}

/* === Card === */
.glass-card {
  background: rgba(255,255,255,0.08);
  border-radius: 20px;
  backdrop-filter: blur(15px);
  box-shadow: 0 10px 40px rgba(0,0,0,0.3);
  color: #edf6f9;
}

/* === Table === */
.table-header {
  background: linear-gradient(90deg, #0077b6, #00b4d8, #90e0ef);
  color: #fff;
  font-weight: 600;
  text-transform: uppercase;
}
.table-hover tbody tr:hover {
  background-color: rgba(0, 180, 216, 0.15);
  transition: all 0.3s ease;
}

/* === Text Colors === */
.text-coral {
  color: #ffb703 !important;
}

/* === Button === */
.btn-ocean {
  background: linear-gradient(135deg, #00b4d8, #0077b6);
  color: white;
  border: none;
  border-radius: 8px;
  font-weight: 600;
  transition: all 0.3s ease;
}
.btn-ocean:hover {
  background: linear-gradient(135deg, #0077b6, #00b4d8);
  transform: scale(1.05);
  box-shadow: 0 4px 15px rgba(0,179,219,0.4);
}

/* === Responsive === */
@media (max-width: 768px) {
  .orders-title {
    font-size: 1.8rem;
  }
  .btn-ocean {
    width: 100%;
  }
}
</style>
{% endblock %}
